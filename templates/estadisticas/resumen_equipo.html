{% extends "base.html" %}
{% block content %}

<div class="container mt-3">
  <div class="row align-items-center mb-4">
    <div class="col-md-6">
      <!-- Migas de pan -->
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb mb-0">
          <li class="breadcrumb-item">
            <a class="link-body-emphasis" href="{% url 'menu_principal' %}">
              <i class="fa-solid fa-house"></i>
            </a>
          </li>
          <li class="breadcrumb-item">
            <a class="link-body-emphasis" href="{% url 'ver_estadisticas_equipos' %}">
              EstadÃ­sticas
            </a>
          </li>
          <li class="breadcrumb-item">
            <a class="link-body-emphasis" href="{% url 'ver_estadisticas_equipo_detalle' equipo.id %}">
              Equipo
            </a>
          </li>
          <li class="breadcrumb-item active" aria-current="page">
            Resumen
          </li>
        </ol>
      </nav>
    </div>
    
    <!-- BotÃ³n Ver GrÃ¡ficos -->
    <div class="col-md-6 d-flex justify-content-md-end">
      <a href="{% url 'resumen_estadisticas_equipo_grafico' equipo.id %}" class="btn" style="background: #06b6d4;">
        ğŸ“ˆ GrÃ¡ficos
      </a>
    </div>
  </div>
</div>


<div class="card shadow border border-primary">
  <div class="card-header bg-primary text-white text-center fw-bold fs-4">
    ğŸ“Š Resumen de EstadÃ­sticas de {{ equipo.nombre }}
  </div>

  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-bordered table-striped text-center align-middle">
        <thead class="table-dark">
          <tr>
            <th>Atleta</th>
            <th>ğŸ Puntos</th>
            <th>ğŸ¯ Saques</th>
            <th>ğŸ’¥ Remates</th>
            <th>ğŸ§± Bloqueos</th>
            <th>ğŸ¯ Armadas</th>
            <th>ğŸ‘ Recepciones</th>
            <th class="text-danger">âŒ Errores</th>
          </tr>
        </thead>
        <tbody>
          {% for item in resumen_por_atleta %}
          <tr>
            <td class="fw-semibold">
              {{ item.atleta.nombre }} {{ item.atleta.apellido }}
            </td>
            <td>{{ item.totales.puntos|default:0 }}</td>
            <td>{{ item.totales.saques|default:0 }}</td>
            <td>{{ item.totales.remates|default:0 }}</td>
            <td>{{ item.totales.bloqueos|default:0 }}</td>
            <td>{{ item.totales.armadas|default:0 }}</td>
            <td>{{ item.totales.recepciones|default:0 }}</td>
            <td class="text-danger">{{ item.totales.errores|default:0 }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="8">No hay estadÃ­sticas registradas para este equipo.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
